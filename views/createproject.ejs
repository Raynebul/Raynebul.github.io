<!DOCTYPE html>

<html lang="ru">
  <head>
    <%- include('blocks/head') -%>
    <link rel="stylesheet" href="/css/createproject-style.css" />
    <title>Редактор кода</title>
  </head>
  <body>
    <script src="/js/code-script.js"></script>
    <%- include('blocks/header') -%>
    <div class="container-fluid">
      <main>
        <!-- свойства для блока, содержащего контент модального окна -->
        <%- include('blocks/log-in') -%>
        <!--  свойства для блока, содержащего контент модального окна -->
        <div class="createprojectpage">
          <div id="projectdata">
            <% if(username != undefined) { %>
            <div>Выберите готовые проекты, созданные вами:</div>
            <% for(var i=0; i < data.length; i++) { %>
            <a class="projectlink" href="/sandbox/<%= data[i].id %>">
              <div class="card mb-3 shadow-sm" style="max-width: 18rem">
                <div class="card-header bg-primary text-white">
                  <%= data[i].projectname %>
                </div>
                <div class="card-body">
                  <p class="card-text">12.01.2023</p>
                </div>
              </div>
              <!-- <div class="projectblock">        
             <div class="projectbox">
             <p class="projectname"><%= data[i].projectname %></p>
             <p class="projectdate">12.01.2023</p>      
            </div>  
            </div> -->
            </a>
            <% } %> <% } else { %>
            <div>Войдите, чтобы увидеть все созданные вами проекты</div>
            <% } %>
          </div>

          <% if(username != undefined) { %>
          <p>Или создайте новый проект:</p>
          <form>
            <p>Имя проекта</p>
            <input
              name="projectname"
              class="form-control"
              type="text"
              placeholder="Имя проекта"
              aria-label="default input example"
            />
            <p>Описание проекта</p>
            <input
              name="projectDescription"
              class="form-control"
              type="text"
              placeholder="Описание проекта"
              aria-label="default input example"
            />

            <!-- <input type="text" id="userProjectname" name="projectname">
         
         <input id="description" type="text" placeholder="Введите текст" name="projectDescription"></input> -->

            <div class="form-check form-switch">
              <input
                class="form-check-input"
                type="checkbox"
                id="flexSwitchCheckDefault"
                name="autosave"
              />
              <label class="form-check-label" for="flexSwitchCheckDefault"
                >Автосохранения</label
              >
            </div>

            <div class="form-check form-switch">
              <input
                class="form-check-input"
                type="checkbox"
                id="flexSwitchCheckDefault"
                name="private"
              />
              <label class="form-check-label" for="flexSwitchCheckDefault"
                >Приватный</label
              >
            </div>

            <button
              class="btn btn-primary btn-lg"
              onclick="CreateProject(data)"
            >
              Создать новый проект
            </button>
          </form>
          <% } else { %>
          <a
            class="btn btn-primary btn-lg"
            data-bs-target="#exampleModal"
            data-bs-toggle="modal"
            >Войти</a
          >
          <% } %>
        </div>
      </main>
    </div>
    <%- include('blocks/footer') -%>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"
      integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"
      integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
